# Get all source files except main files
aux_source_directory(. conv_src)
list(FILTER conv_src EXCLUDE REGEX "main*")

# Create library
add_library(cnn_lib ${conv_src})

# Create executables (will fail to link but we can see if compilation works)
add_executable(demo_lenet_run main_demo_lenet.cpp)
target_link_libraries(demo_lenet_run cnn_lib)

add_executable(demo_vgg_run main_demo_vgg.cpp)
target_link_libraries(demo_vgg_run cnn_lib)

add_executable(demo_alexnet_run main_demo_alexnet.cpp)
target_link_libraries(demo_alexnet_run cnn_lib) 